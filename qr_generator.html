<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>QRã‚³ãƒ¼ãƒ‰ä¸€æ‹¬ä½œæˆãƒ„ãƒ¼ãƒ«</title>
    <!-- QRã‚³ãƒ¼ãƒ‰ç”Ÿæˆãƒ©ã‚¤ãƒ–ãƒ©ãƒª -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <style>
        body { font-family: sans-serif; text-align: center; }
        .no-print { margin: 20px; padding: 20px; background: #eee; border: 1px solid #ccc; }
        input { padding: 10px; width: 300px; font-size: 16px; }
        button { padding: 10px 20px; font-size: 16px; background: #007bff; color: white; border: none; cursor: pointer; }
        
        /* å°åˆ·ç”¨ã‚°ãƒªãƒƒãƒ‰ */
        .print-area {
            display: grid;
            grid-template-columns: repeat(4, 1fr); /* æ¨ª4åˆ— */
            gap: 20px;
            margin: 0 auto;
            width: 90%;
        }
        .qr-item {
            border: 1px dashed #ccc;
            padding: 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
            page-break-inside: avoid; /* å°åˆ·æ™‚ã«é€”ä¸­ã§åˆ‡ã‚Œãªã„ã‚ˆã†ã« */
        }
        .qr-label {
            margin-top: 5px;
            font-weight: bold;
            font-size: 14px;
        }

        /* å°åˆ·æ™‚ã®è¨­å®š */
        @media print {
            .no-print { display: none; }
            .print-area { width: 100%; }
        }
    </style>
</head>
<body>

    <div class="no-print">
        <h2>ğŸ–¨ï¸ QRã‚³ãƒ¼ãƒ‰ç”Ÿæˆãƒ„ãƒ¼ãƒ«</h2>
        <p>1. GitHub Pagesã§ç™ºè¡Œã•ã‚ŒãŸURLã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ï¼ˆæœ«å°¾ã® / ã¯ã‚ã£ã¦ã‚‚ãªãã¦ã‚‚OKï¼‰</p>
        <p>2. ç”Ÿæˆãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã€ãƒ–ãƒ©ã‚¦ã‚¶ã®å°åˆ·æ©Ÿèƒ½ï¼ˆCtrl+Pï¼‰ã§å°åˆ·ã—ã¦ãã ã•ã„ã€‚</p>
        <input type="text" id="baseUrl" placeholder="https://user.github.io/repo/" />
        <button onclick="generateQR()">ç”Ÿæˆã™ã‚‹</button>
    </div>

    <div id="output" class="print-area"></div>

    <script>
        // ã‚«ãƒ¼ãƒ‰å®šç¾©ï¼ˆapp.jsã¨åŒã˜é †åºã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ï¼‰
        const suits = [
            { mark: 'â™ ', name: 'ã‚¹ãƒšãƒ¼ãƒ‰' },
            { mark: 'â™£', name: 'ã‚¯ãƒ©ãƒ–' },
            { mark: 'â™¥', name: 'ãƒãƒ¼ãƒˆ' },
            { mark: 'â™¦', name: 'ãƒ€ã‚¤ãƒ¤' }
        ];
        const ranks = ['A', '2', '3', '4', '5', '6', '7', '8', '9', '10', 'J', 'Q', 'K'];

        function generateQR() {
            const baseUrlInput = document.getElementById('baseUrl').value.trim();
            if (!baseUrlInput) {
                alert("URLã‚’å…¥åŠ›ã—ã¦ãã ã•ã„");
                return;
            }

            // æœ«å°¾ã®/å‡¦ç†
            const baseUrl = baseUrlInput.endsWith('/') ? baseUrlInput : baseUrlInput + '/';
            const output = document.getElementById('output');
            output.innerHTML = ''; // ã‚¯ãƒªã‚¢

            let idCounter = 0;

            suits.forEach(suit => {
                ranks.forEach(rank => {
                    const cardName = `${suit.mark} ${rank}`;
                    const targetUrl = `${baseUrl}?id=${idCounter}`;

                    // ã‚³ãƒ³ãƒ†ãƒŠä½œæˆ
                    const container = document.createElement('div');
                    container.className = 'qr-item';

                    // QRç½®ãå ´
                    const qrDiv = document.createElement('div');
                    // ãƒ©ãƒ™ãƒ«
                    const label = document.createElement('div');
                    label.className = 'qr-label';
                    label.textContent = `${cardName} (No.${idCounter + 1})`;

                    container.appendChild(qrDiv);
                    container.appendChild(label);
                    output.appendChild(container);

                    // QRç”Ÿæˆ
                    new QRCode(qrDiv, {
                        text: targetUrl,
                        width: 128,
                        height: 128
                    });

                    idCounter++;
                });
            });
        }
    </script>
</body>
</html>